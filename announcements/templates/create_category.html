{% extends 'components/base.html' %} {% block content %}
<div class="d-flex justify-content-between align-items-center p-4">
  {% include 'components/back_btn.html' %}
  <h1 class="text-center m-2">Створити нову категорію</h1>
  <div></div>
</div>

<div class="d-flex justify-content-center">
  <form
    method="post"
    enctype="multipart/form-data"
    style="width: 50%"
    class="d-flex flex-column align-items-center"
  >
    {% csrf_token %}

    <div class="mb-3 w-100">
      <label class="form-label">{{ form.icon.label }}</label>
      <div class="input-group">
        {{ form.icon }}
        <div
          id="icon-preview"
          class="input-group-append"
          style="font-size: 24px; margin-left: 10px"
        ></div>
      </div>
    </div>
    <div class="mb-3 w-100">
      <label class="form-label">{{ form.title.label }}</label>
      {{ form.title }}
    </div>
    <div>
      <button type="submit" class="btn btn-outline-success">Створити</button>
    </div>
  </form>
</div>

<script>
  const iconSelect = document.getElementById("id_icon");
  const iconPreview = document.getElementById("icon-preview");

  iconPreview.innerHTML = `<i class="${iconSelect.value}"></i>`;

  iconSelect.addEventListener("change", function () {
    const iconClass = iconSelect.value;
    iconPreview.innerHTML = `<i class="${iconClass}"></i>`;
  });
</script>

{% endblock %}
